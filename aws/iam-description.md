---
marp: true
---

# IAM について

---

# この資料について

- AWS を利用する上で不可欠な IAM について概要を抑えることを目的としたもの
- IAMxxx について各リソースの違いがわかるようになる

---

# 目次

- IAM とは?
- IAM の必要性
- IAM Policy について
- IAM User について
- IAM Role について
- IAM Role と User の違いについて

---

# IAM とは？

- AWS Identity and Access Manager の略
- AWS を利用する上での ID 管理，認証，認可のサービス
- ちなみに IAM という言葉自体は AWS 以外の文脈でもよく使われる

  - GCP のドキュメントから

    > > 誰(ID)がどのリソースに対してどのようなアクセス権(ロール)を持つかを定義することにより，アクセス権限を管理します.

これからのページでは単に IAM と記載した場合は AWS IAM を指します

---

# ID 管理？認証？認可？

- 言葉の意味から一つずつ説明します

---

# ID とは

- 文脈(コンテキスト)によって意味が変わるが，前ページの文脈だと
  **何かを指すための一意性のあるもの**
- 例

  - 会社コンテキスト
    - 社員 ID
  - 知人コンテキスト
    - 呼び名
  - IAM コンテキスト
    - AWSAccessKeyId

---

# 認証とは

- 何であるかを確認すること
- 認証の多くの方法が ID とパスワードなどの秘密情報の対を示すことによって確認する
- IAM の場合は以下の通り
  - ID
    - AWSAccessKeyId
  - 秘密情報
    - AWSSecretAccessKey

**認証が成功すると，ID で示されている本人であると認識される**

---

# 認可とは

- 権限を与えること
- 権限とはできること，できないこと
- 権限の例

  - ファイルの読み取りはできるけど，書き込みはできない

- AWS だと IAM Policy に権限を記述する

**認可が成功すると，与えられた権限のことをすることができる**

---

# 一旦整理

- ID

  - 何かを示す一意の値
  - IAM だと AWSAccessKeyId

- 認証

  - ID や秘密情報を使って，その ID 本人であることを確認すること
  - IAM だと AWSAccessKeyId と AWSSecretAccessKey

- 認可
  - 権限(できること／できないこと)を与えること

---

# Column：認証と認可の関係

- ほとんどのサービスが認証後に認可を行う
  - IAM もそのような流れ
- ただし，必ずしも認証と認可はセットでなくても良い
- 例
  - 電車の切符
    - 切符を買う際に認証は不要だが，認可(電車に乗る権限)は付与される

---

# Column：認証と認可を分ける理由

- ほとんどのサービスが認証後に認可するならば認証と認可は一緒でいいのでは？
- 認可で与えられる権限は動的に変わりやすい
  - 部署移動したら権限は変わるはず
  - ゼロトラストでは日時やアクセス場所によって動的に認可を変えることでセキュリティを高めている
- 認証に利用するデータは静的な性質がある
  - 部署移動してもあなたはあなた
  - なりすましされても，ID,パスワードなどをクリアされたら，あなたとしか認識できない

**性質が異なるものを，分けることで，管理性とセキュリティを向上**
