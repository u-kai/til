データメッシュは、その根底に分散化とデータの責任の分散があります
このアプローチは、スケールアウト構造と連続的かつ迅速な変化サイクルをサポートするためです
問題は、データが分解される領域を特定する方法、それらのコンポーネントを統合する方法、およびそれに応じて責任を分散する方法です
データ分解の軸を見つけるために、データメッシュは組織単位の境界線に従います
ビジネスと一致した責任の分割のラインに従います
レイク、データウェアハウス、パイプラインなどの基盤技術ソリューションや、データチームや分析チームなどの機能部署が設定した境界線には従いません
データメッシュのアプローチは、既存のデータアーキテクチャの分割およびデータの責任の分散とは逆の方法です
8 章では、従来のデータアーキテクチャが技術（データウェアハウスなど）を中心に分割され、技術に関連する活動を行っているチーム（データウェアハウスチーム、データパイプラインチームなど）にデータの所有権が付与されていることが示されています
従来のアーキテクチャは、分析データを単一のデータチームに共有する責任を集中させた組織構造になっています
これまでのアプローチは、比較的新しい分析データ管理の分野の複雑さとコストを、専門のグループ内で局所化するために設定されてきました
組織がデータの責任を分割する方法は、現代のデジタルビジネスの組織構造とは一致していません
現代の組織は、ビジネスドメインに基づいて分解されています
このような分解によって、連続的な変化と進化の影響は、大部分が特定のドメインに局所化されます
たとえば、Daff はビジネス（およびそれを可能にし、形成するデジタルソリューション）をポッドキャスト、イベント、パートナーシップ、リスナーなどのドメインに分割しています
データメッシュでは、データ共有の責任を各ビジネスドメインに与えます
各ドメインは、最も馴染みのあるデータに対して責任を持ちます
つまり、このデータの第一級のユーザーであり、またはそのデータの起点を制御しているドメインです
たとえば、リスナーチームは、リスナープロファイル、リスナーの属性、リスナーの購読イベントなど、最も理解し、影響し、制御できる他の分析データを担当します
これをドメイン所有の原則と呼びます
私は利便性のために所有という言葉を使用していますが、それはデータユーザーのニーズに応えるためにデータを作成、モデル化、維持、進化、共有する責任の長期にわたる所有を指しています
この本におけるデータの所有権の登場は、内部および外部のユーザーや顧客、他の組織などとの取引において生成されるデータの品質、長期性、合法的なアクセス可能性の維持に関する組織の責任に限定されています
これは、データが収集された人々によるデータの主権、つまりデータの管理権を所有している人々ではありません
データの最終的な主権は、データをキャプチャし管理するユーザー、顧客、または他の組織にあります
組織はデータ製品の所有者として行動し、個人はデータの所有者です
個人が自己主権を持ち、個人データに対して完全な制御と権限を持つというコンセプトは、私にとって非常に重要ですが、この著作の範囲外です
ただし、データメッシュは自己主権データへの基盤を確立することができるという信念を持っていますが、それは別の本のテーマになるでしょう
また、過去のデータ管理とガバナンスの手法とは異なる特定の意味を持つ「データ管理」といった用語は使用していません
これにより、データメッシュと互換性のない既存のデータガバナンスの役割との混乱を避けることができます
この責任の直感的な分割は、一連の問題を解決する一方で、新たな課題も引き起こします
これについては、第 7 章「転換点の後」で詳しく説明します
それによって、分散型の論理データアーキテクチャが生まれます
分散型のアーキテクチャはスケーラブルですが、管理がより複雑になります
これには、データの相互運用性とドメイン間の接続性を扱う新しい方法が必要です
将来の章や原則では、これらの課題に対処します
次のセクションでは、ドメイン駆動型設計（DDD）のストラテジーを適用して、データとその所有権を分解し、組織がドメイン指向のデータ所有権に移行するために必要な変革のシフトを紹介します
ドメイン駆動設計の簡単な背景
ドメイン駆動設計は、ソフトウェア設計（モデル）およびチームの割り当ての分解の手法であり、ビジネスの継ぎ目に基づいています
ソフトウェアをドメインに分解し、それぞれのビジネスドメインが使用する言語に基づいてソフトウェアをモデリングします
エリック・エヴァンスは 2003 年の著書「ドメイン駆動設計」でこのコンセプトを紹介しました
それ以来、DDD は近代的なアーキテクチャ思考や組織モデリングに深い影響を与えてきました
DDD は、ビジネスのデジタル化から生じたソフトウェア設計の複雑さの急速な増加に対する応答でした
組織はデジタルアセット（バックオフィスアプリケーション、デジタルサービス、Web およびモバイルテクノロジー）を成長させ、機能を増やし続けることで、ソフトウェアはより複雑で管理が難しくなりました
「ソフトウェアの中心で複雑さに取り組む」という本の副題が示すように、私たちはソフトウェアモデリングと所有権に新しいアプローチが必要でした
DDD はドメインを「知識、影響力、または活動の範囲」と定義しています
例えば、リスナーの登録ドメインでは、登録や解除の段階でどのようなイベントが発生し、登録に関するルールは何か、登録イベント中に生成されるデータは何か、などの知識を持っています
登録ドメインは、登録の方法や登録プロセス中に知られておくべきデータを具体的に影響します
オンボーディングリスナーや支払いのトリガーなど、実行する活動のセットがあります
この説明に追加したい点は、結果です
ドメインには特定のビジネス目標と最適化される結果があります
登録ドメインは、登録者の数を最大化し、簡単なオンボーディングプロセスを実現し、脱落を最小限に抑える結果に最適化されています
ドメイン駆動設計やドメインに基づいたソフトウェアモデリングのアイデアは、例えばマイクロサービスといった形で、過去 10 年間のソフトウェアアーキテクチャに大きな影響を与えました
マイクロサービスアーキテクチャは、ビジネスドメインの機能を中心に構築された分散サービスに大きく複雑なシステムを分解します
それにより、ユーザーの移動や複雑なビジネスプロセスをサービスの緩やかな統合を通じて提供します
ドメイン駆動設計は、技術チームの形成方法を根本的に変え、ビジネスと技術のクロスファンクショナルチームの調整につながりました
また、組織がスケーリングする方法にも大きな影響を与え、チームが独立してドメインの能力とデジタルサービスを所有できるようにしました
データに関連する概念を適用する前に、この本以外のリソースを使用して DDD について理解しておくことを強くお勧めします
DDD をデータメッシュにどのように活用できるかを詳細に定義することは、この本の範囲外です
データに DDD の戦略的設計を適用する
これまで、運用システムと取り組む際にはドメイン指向の分解と所有権を採用してきましたが、分析データの領域ではまだビジネスドメインに基づいた分解の考え方は浸透していません
これまでのところ、データプラットフォームアーキテクチャにおける DDD の最も近い応用例は、ソースの運用システムがビジネスドメインのイベントを発生させ、モノリシックなデータプラットフォームがそれを取り込むというものでした
ただし、取り込みの段階を超えると、ドメインチームの責任は終了し、データの責任はデータチームに移行します
データチームが行う変換が増えるにつれて、データは元の形式や言語、意図からより遠くなっていきます
例えば、Daff のポッドキャストのドメインは、短期の保持ログ上で再生されたポッドキャストのログを生成します
その後、中央集権的なデータチームはこれらのイベントを受け取り、変換、集計、保管を試み、長期のファイルまたはテーブルとして保存します
データに DDD を適用するために私は元の聖典に戻ることを提案します
エリック・エヴァンスの著書では、企業レベルでのモデリングの拡大を目指すための補完的な戦略セットである DDD の戦略的設計が紹介されています
これらの戦略は、複雑なドメインと多くのチームを持つ組織向けに設計されています
DDD の戦略的設計手法は、以前に使用されていたモデリングと所有の方法から離れます
組織レベルの中央モデリング
エリック・エヴァンスは、組織のドメインモデルを完全に統一することは、実現可能でもコスト効果的でもないと述べています
これは、データモデリングにおけるデータウェアハウスのアプローチと似ており、密接に依存する共有スキーマを持っています
中央集権的なモデリングは、変更のための組織上のボトルネックを引き起こします
限られた統合を持つ内部モデルのサイロこのモードは、手間のかかるチーム間のコミュニケーションを導入します
これは、ETL（抽出、変換、ロード）手続きを介して接続された異なるアプリケーションのデータサイロに似ています
意図的なモデリングのないモデリング
これは、データレイクのようなもので、生データを blob ストレージにダンプします
代わりに、DDD の戦略的設計は、特定のドメインに文脈化された複数のモデルに基づくモデリングを取り入れます
ボーダードコンテキストと呼ばれる
ボーダ例えば、Daff のポッドキャストのドメインは、短期間でログを出力しています
その後、集中的なデータチームがこれらのイベントを取り上げ、変換、集計、長期間のファイルやテーブルとして保存しようとします
データに DDD を適用するためには、元の教典に戻ることを提案します
エリック・エヴァンスの著書では、DDD の戦略的設計と呼ばれる、企業レベルでのモデリングを拡大するための補完戦略のセットを紹介しています
これらの戦略は、複雑なドメインと多くのチームを持つ組織を対象としています
DDD の戦略的設計の技法は、従来のモデリングと所有の方法から離れています
組織レベルの中央モデリングでは、ドメインモデルを組織全体で統一することは、実現可能でも費用対効果が高くありません
これは、データモデリングにおけるデータウェアハウスのアプローチと類似しており、緊密に依存する共有スキーマを持つものです
中央モデリングは、変更に対する組織のボトルネックを引き起こします
限られた統合を持つ内部モデルのサイロは、複雑なチーム間コミュニケーションを導入します
これは、ETL（抽出、変換、ロード）手続きによって接続された異なるアプリケーションのデータサイロに類似しています
意図的なモデリングがないと、生データをブロブストレージにダンプするデータレイクと同様です
代わりに、DDD の戦略的設計では、特定のドメインに文脈を持たせた複数のモデルに基づくモデリングを採用しています
境界コンテキストと呼ばれるものです
境界コンテキストは、「特定のモデルの適用範囲の明確な共有理解をチームメンバーに提供し、一貫性が必要なものと独立して開発できるもの」とされています
さらに、DDD ではコンテキストマッピングも紹介されており、バウンデッドコンテキスト間の関係を明示的に定義しています
データメッシュは、バウンデッドコンテキストの境界を個々のデータプロダクト、データ、そのモデル、所有権に適用します
既にマイクロサービスまたはドメイン指向アーキテクチャを採用している組織にとって、これは比較的単純な拡張です
彼らはドメインのバウンデッドコンテキストに基づいてサービスを構築しています
それでは、Daff の例で説明しましょう
モバイルとウェブのデジタルメディアプレーヤーを担当するメディアプレーヤーチームがあります
メディアプレーヤーアプリケーションは、リスナーがプレーヤーとのインタラクションを示す再生イベントを発行します
このデータは、プレーヤーアプリケーションのパフォーマンスの改善や、リスナーセッションの再構築と分析によるユーザーエンゲージメントの改善など、多くのダウンストリームのユースケースで使用されます
データメッシュの実装がない場合、メディアプレーヤーチームは基本的にプレーヤーデバイスからの再生イベントを、品質や頻度に関係なく、一種の短期間のストリーミングインフラストラクチャまたはさらに悪い場合にはトランザクションデータベースにダンプします
その後、これらのイベントは、集中的なデータチームによってデータレイクやデータウェアハウス、おそらくは両方に格納されます
データメッシュは、メディアプレーヤードメインの振る舞いを変えます
メディアプレーヤーチームの責任を広げ、再生イベントの高品質の長期的な分析ビューを提供することになります
メディアプレーヤーチームは、再生イベントの分析データをデータアナリスト、データサイエンティスト、またはデータに関心のある他の人々と直接共有するためのエンドツーエンドの責任を持つようになります
再生イベントの分析データは、リスナーセッションドメインによって変換され、リスナーのソーシャルネットワークの再生行動に基づいて音楽を推奨するための新しいデータセット（グラフ）に集計されます
この例では、リスナーセッションドメインは、プレーヤーとのやり取りにおけるリスナーの経過を最も正確に表現することを目的としたデータドメインであり、リスナーのプロフィールに関するユニークな情報を補完しています
このデータの必要性により、組織は再構築され、新しいドメインと新しい長期チームが作られました
図 2-1 は、この例を要約しています
図 2-1. 存在するまたは新たなビジネスドメインに合わせた分析データの所有権とアーキテクチャの分解

ドメインデータのアーキタイプ
データメッシュを組織とそのドメインにマッピングすると、ドメイン指向の分析データにはいくつかの異なるアーキタイプがあることがわかります
データメッシュの原則は、ドメインのアーキタイプ間の大きな差異を区別しません
ただし、実践的なレベルでは、それらの特性を認識することが実装の最適化に役立ちます
ドメイン指向のデータには、次の 3 つのアーキタイプがあります：

ソースに整合したドメインデータ
業務システムによって生成される業務事実を反映した分析データ
これはネイティブデータ製品とも呼ばれます

複数の上流ドメインをまとめた集計ドメインデータ
一つまたは複数の特定のユースケースのニーズに合わせて変換された分析データ
これは目的に合ったドメインデータとも呼ばれます

図 2-2 は、ドメイン指向のデータのアーキタイプを詳しく説明した以前の例を展開しています
たとえば、メディアプレーヤードメインは、メディアプレーヤーアプリケーションのイベントから収集されたソースに整合した分析データを提供します
リスナーセッションドメインは、リスナードメインから取得したリスナーの詳細情報を補完し、個別のリスナープレーヤーイベントを構築されたセッションの相互作用に変換、集計したデータ製品を提供します
そして、レコメンデーションドメインデータはコンシューマに合わせています
これはプレーヤーアプリケーションが提供するインテリジェントなレコメンデーションの特定のニーズに合わせています
図 2-2. ドメインデータのアーキタイプの例

ソースに整合したドメインデータ
ソースによって自然に整合するドメインは、データの発生元です
ソースに整合したドメインデータは、ビジネスの事実と現実を表しています
それは、元々のオペレーションシステム、現実のシステムが生成するデータと非常に近くマッピングされたデータをキャプチャします
例えば、「ユーザーがメディアプレーヤーとのやり取り方法」や「ユーザーの登録方法」などのビジネスの事実によって、プレイイベント、オーディオ再生品質ストリーム、リスナープロファイルなどのソースに整合したドメインデータが作成されます
これらの事実は、それぞれのオペレーションシステムによって最も良く知られ、生成されます
例えば、メディアプレーヤーシステムは、プレイイベントについて最もよく知っています
要するに、データメッシュは、ドメインがソースに整合したドメインデータとしてビジネスの真実を提供する責任を持っていると仮定しています
ビジネスの事実は、ビジネスドメインのイベントとして最もよく表現され、タイムスタンプの付いたイベントの分散ログとして保存および提供することができます
タイムイベントに加えて、ソースに整合したドメインデータは、ビジネスドメインの変化の期間に密接に対応する時間間隔で容易に利用可能なヒストリカルスライスで提供する必要があります
たとえば、リスナードメインでは、リスナープロファイルの毎日の集計は、分析の目的に適したモデルです
ソースに整合した分析データは、（プライベートな）トランザクションデータベースから直接モデル化されたりアクセスされるものではありません
分析データをオペレーションデータベースから直接公開するのは望ましくありません
このアンチパターンは、ETL の実装や変更データキャプチャ、データバーチャライゼーションなどのアプリケーションのデータベースの上に観察されます
アプリケーションデータベースモデルは、アプリケーションとエンドユーザーのニーズに合わせてトランザクションの速度を最適化するためにモデル化されます
分析データは、レポート作成、機械学習のトレーニング、非トランザクションワークロードの理解とアクセスを容易にするために保存され、構造化されます
分析データのライフサイクルは、ソースアプリケーションの操作データベースとは異なります
アプリケーションのデータベースを最適化するための変更がすべて分析データの変更につながるわけではなく、分析データの新しい変換がそのソースアプリケーションのデータベースを変更する必要もありません
ドメインの分析データの性質は、運用システムが自身の業務に使用する内部データとは異なります
第 1 章では、これら 2 つのデータタイプの違いを捉えています
このため、データメッシュは、ソースアプリケーションの操作データベースとその協力する分析データストレージを区別しています
これら 2 つのデータタイプは別々に扱われますが、密接に統合され、同じドメインチームによって所有されています
ソースに合わせたドメインデータは最も基礎的なアーキタイプです
これは恒久的にキャプチャされ、利用可能になることが期待されています
組織が進化するにつれて、データ駆動型およびインテリジェンスサービスは常にビジネスの事実に戻り、新しい集計や投影を作成できます
なお、ソースに合わせたドメインデータは、特定の消費者向けに合わせて適合させたりモデル化したりはせず、作成時点の生データを緻密に表現しています
他のドメインデータのアーキタイプはそうではありません

集計ドメインデータでは、ビジネスの中核概念とエンタープライズスケールのソースシステムとの間に一対一のマッピングはありません
共有ビジネスコンセプトに属するデータの一部を提供できるシステムはしばしば多数存在します
したがって、最終的にはさまざまな原点からマップされたソースに整列したデータをより集約的な形式のコンセプトに集約する必要があります
たとえば、「サブスクライバ」「曲」「アーティスト」といった属性は、多くの異なる起点からマッピングすることができます
たとえば、リスナードメインには、サブスクライバに関するプロファイル関連情報があります
一方、プレーヤードメインでは、彼らの音楽の好みについて知っています
マーケティングや販売といったユースケースでは、サブスクライバの包括的なビューが要求されます
これには、複数のソースに合わせたドメインからのデータを組み合わせたリスナーの多面的なデータを表す新しい長期間の集約データが必要です
注意してほしいのは、野心的な集約ドメインデータ-リスナー 360 のような特定の概念のすべての側面を捉え、組織全体のデータユーザーに提供しようとする集約は、管理が複雑で扱いにくく、特定のユースケースに対して理解しやすく使用しやすく、最新の状態を維持するのが難しい可能性があるということです
過去には、マスターデータ管理（MDM）の実装が共有データ資産のすべての側面を一箇所に集約し、一つのモデルで行うことを試みてきました
これはスケーリングしない単一のモノリシックなスキーマモデリングへの逆行です
データメッシュでは、エンドコンシューマーが自分自身の目的に合ったデータ集約を作成し、高度に再利用可能で野心的な集約の誘惑に抵抗することを提案しています
消費者に合わせたドメインデータは、消費ユースケースに密接に合致しています
消費者に合わせたドメインデータとそれを所有するチームは、1 つまたは少数の密接な関連するユースケースを満たすことを目指しています
たとえば、レコメンデーションは、プレーヤーアプリを使用しながらリスナーに提示される適したデータとして作成されます
機械学習モデルをトレーニングするためのエンジニアリングされた特徴も、しばしばこのカテゴリに属します
たとえば、Daff は、曲の感情（ポジティブまたはネガティブなど）を分析する機械学習モデルを導入しています
次に、この情報を音楽の推奨やランキングに使用します
ただし、音楽の感情分析を行うには、データサイエンティストはいくつかの特徴や曲からの追加情報（「活気」「ダンス性」「アコースティック」「感情など）を抽出する必要があります
これらの属性（特徴量）が抽出された後、これらは消費者に合わせたドメインデータとして維持および共有され、感情分析ドメインやプレイリスト作成などの隣接モデルのトレーニングに使用されることがあります
消費者に合わせたドメインデータは、ソースに合わせたドメインデータとは異なる性質を持っています
それは構造的により多くの変更を経て、元のドメインイベントを特定のユースケースに合わせた構造とコンテンツに変換します
これを私はたまに、適切な目的のドメインデータ、と呼んでいます
ここでの「consumer」とは、データを利用するアプリケーションまたはデータの利用者、例えばデータサイエンティストやアナリストのことを指します

ドメイン所有権への移行
私にとって、ドメインに基づくデータの所有感は自然で、現代の組織のデジタルの旅の自然な進化です
それにもかかわらず、これは古くからの解析データ管理のいくつかの古いルールに異議を唱えています
以下に、いくつかのルールのリストがありますが、他にも考えられると思います

データ所有権を上流にプッシュする
データアーキテクチャの用語は、生命の源である水から派生して繁栄しました
データレイク、湖畔マート、データフロー、レイクハウス、データパイプライン、湖水供給など、これらの概念のようなものです
私はそれが安心感を与えるシンボルであることを認めます
ただただ美しいのです
しかし、その下に潜んでいる危険な考えがあります
すなわち、データは何らかの場所、例えば中央のレイクに流れる必要がある、有用で意味のあるもの、価値のあるもの、利用する価値のあるものになるという考えです
上流のデータは、下流のデータよりも価値が低く、有用性も低いという想定があります
データメッシュはこの想定に異議を唱えます
データは、ソースドメイン、つまりソースの解析データにおいて、直接利用可能で有用です
私はこれをソースに合わせたドメインデータと呼んでいます
それは、操作系のアプリケーションから協力者や隣接する解析データ製品に流れるだけです
純化や最適化の変換は、解析的な使用に適する前に制限されます
もちろん、後になって、ソースに合わせたドメインデータは集約され、変換されて新しい高次の洞察を生み出すために使用されることがあります
これを集約ドメインデータまたは目的に合わせたドメインデータと呼びます
これらの下流の変換は、下流のドメインのコンテキスト内で行われ、ドメインの長期的な所有権の下で行われます
ドメイン間の無人の領域、いまはデータパイプラインと呼ばれている場所で行われるインテリジェントな変換はありません

複数の接続されたモデルを定義する
データウェアハウスの技術や中央のデータガバナンスチームは、唯一の正統なモデルであるカノニカルモデルを求めてきました
それは素晴らしいアイデアです
すべてのデータユーザーに共有の意味を提供するために使用できる、データドメインを記述するためのモデルです
しかし、現実にはシステムは複雑で、絶えず変化しており、1 つのモデルではこのデータの混沌な生活を統制することはできません
データメッシュは、DDD の境界コンテキストとコンテキストマッピングに従ってデータモデリングを行います
各ドメインは、そのコンテキストに応じてデータをモデル化し、他の人とこのデータとそのモデルを共有し、1 つのモデルが他のモデルと関連付けられ、マッピングされる方法を特定します
つまり、異なるドメインで同じ概念の複数のモデルが存在し、それは問題ありません
例えば、支払いにおけるアーティストの表現には支払い属性が含まれていますが、推奨ドメインのアーティストモデルにはアーティストのプロフィールとジャンルが含まれています
ただし、メッシュは、一つのドメインから別のドメインにアーティストをマッピングし、一つのドメインのアーティストを別のドメインの同じアーティストにリンクできるようにする必要があります
これを実現するためには、統一された識別スキーム、すべてのドメインで使用される単一の ID、アーティストを含むものが使用されるなど、複数の方法があります

ポリセムス
ポリセムスは、異なるドメイン間で共有される概念です
それらは、ドメイン固有の属性を持つ同じエンティティを指します
ポリセムスは、企業内の共有の核となる概念、例えば「アーティスト」、「リスナー」、「曲」を表します
DDD に従って、データメッシュは異なるドメインの解析データが、それぞれのドメインの境界コンテキストに基づいてポリセムスをモデル化することを許可します
ただし、それはポリセムスを一つのドメインから別のドメインにマッピングすることも許可し、グローバルな識別スキームを持つことができます
最も関連性の高いドメインデータを受け入れる：単一の真実の情報源を期待しない
データ業界で流布しているもう一つの神話は、共有された各業務コンセプトのための単一の真実の情報源を求めることです
例えば、「リスナー」、「プレイリスト」、「アーティスト」などすべてについて知るための真実の情報源を求めるという素晴らしい考えです
その動機は必要不可欠です：過去のデータの複数のコピーを防ぎ、信頼性のないデータの増加を防ぎます
しかし、現実にはコストがかかり、拡大と速度を妨げたり、単純に達成不可能であることが証明されています
データメッシュは、真実の情報源のアイデアを強制しません
ただし、時代遅れのデータの複数のコピーを防ぐ可能性を減らす複数のプラクティスを配置します
アナリストと科学者のための見つけられる、高品質で使いやすいデータを共有するための長期にわたるドメイン指向の所有権は、コピーし、古くなったデータを保持する必要性を減らします
データメッシュは、適切な目的に適したデータを作成するためにデータを再形成および再構成することを推進します
データは 1 つのドメインから読み取られ、別のドメインによって変換および保存されることがあります
例えば、新進アーティストのドメインは、プレイイベントのドメインデータを読み取り、変換して新興アーティストとして保存します
これは現実世界を模倣しており、データが移動し、コピーされ、再形成されるという現象です
このような動的な構成の下で真実の情報源のイデオロギーを維持するのは非常に難しいです
データメッシュは、スケールとスピードのための動的な構成を受け入れながら、真実の出現を可能にします
次の章で見るように、データメッシュプラットフォームはメッシュを観察し、データがコピーされる際にしばしば発生するエラーを防止し、最も関連性の高く信頼性のあるデータを提示します

ドメインの内部実装としてのデータパイプラインを非表示にする
データのクレンジング、準備、集約、共有の必要性は、中央集権型のデータアーキテクチャまたはデータメッシュを使用するかに関係なく残ります
違いは、従来のデータアーキテクチャでは、データパイプラインがより複雑なデータ変換および移動を構成する最初級のアーキテクチャ上の関心事であるのに対し、データメッシュでは、データパイプラインは単にデータドメインの内部実装であり、ドメイン内で内部的に処理されます
これはドメインの外部から抽象化される必要がある実装の詳細です
その結果、データメッシュに移行する際には、異なるパイプラインとそのジョブを異なるドメインに再配布する必要があります
例えば、ソースに対応したドメインには、クレンジング、重複排除、ドメインイベントの豊かさを組み込む必要があります
これにより、後続のクレンジングの複製なしで他のドメインで利用できるようになります
たとえば、メディアプレーヤーのドメインがオーディオプレイイベントを提供する場合、これにはクレンジングと標準化のデータパイプラインが含まれており、組織のイベントエンコーディングの基準に準拠したデデプリケーションされたほぼリアルタイムのプレイイベントのストリームを提供します
同様に、集約パイプラインのステージは、集約または目的に合ったドメインデータの実装の詳細に移動します
このモデルでは、各ドメインが独自のデータ処理パイプラインの実装、技術スタック、ツールを作成するために重複した努力が生じると言うかもしれませんが、データメッシュはこの懸念に対して、第 4 章で説明されているセルフサーブデータプラットフォームで対応しています
データメッシュでは、ドメインが追加のデータ責任を担うようになります
中央集権型のデータチームからドメインへの責任と努力のシフトにより、敏捷性と信頼性を獲得します

まとめ：技術を中心にデータとその所有権を配置することは、スケールに障害となってきました
変化や機能の開発が行われる方法からは明らかに逸脱しています
中央組織化されたデータチームは摩擦の原因でした
しかし、代替方法があります
その代替方法は、企業レベルでモデリングをスケールさせるための実証済みの方法です：ドメイン駆動型の境界コンテキストモデリングです
データメッシュは、ドメインの境界コンテキストの概念を分析データの世界に適応させます
データメッシュでは、データに最も密接に関わるドメインチームが分析データを所有し、組織の他の部門に提供することが求められます
データメッシュは、既存のドメインを構成、集約、および投影することで、新しいドメインのデータの生成をサポートします
ドメインデータには、次の 3 つのぼんやりとした分類があります
ソースに整列した（ネイティブ）分析データは、ソースの運用システムを所有するチームによって作成され、共有されます
アグリゲートは、消費者とプロデューサーの間の中間の分析データであり、複数の上流データ製品の組み合わせです
アグリゲートは、プロデューサーチームまたは消費者チーム、または新たに形成されたチームが所有します
消費者に整列した（目的に適した）分析データは、特定のデータ消費シナリオに適したように設計されています
ドメイン指向のデータ所有への移行により、特に高速かつスケーラブルな環境では、データの現実の乱雑さを受け入れて取り組むことになります
複数の共有エンティティのモデルを扱い、それらを互いにリンク（マッピング）させます
パイプラインはもうありませんが、特定のドメインデータをサポートする内部実装として隠されたパイプラインがあります
この章からひとつの考えを持って帰るなら、それは次のとおりです：すべてのモデルは間違っていますが、いくつかは役に立ちます -ジョージ・ボックス ビジネスのドメインを事前に設計し、それに応じて分析データを割り当ててモデル化しようとしないでください
かわりに、ビジネスの隙間から取り組み始めてください
すでにドメインに基づいてビジネスが組織化されている場合は、そこから始めてください
そうでなければ、データメッシュはまだ適切な解決策ではないかもしれません
データの進化が組織の形を左右するようにしてください

## 感想／まとめ

- DDD のコンテキスト境界による分離がやっぱり良い
- ドメインデータには 3 つの大枠のデータがある

  - ドメインネイティブなデータ
    - ドメインの所有者が持っておくべきデータ
  - アグリゲート
    - コンシューマーとプロデューサーの間の中間データで複数の上流データプロダクトの組み合わせ
    - プロデューサーチームか消費者チーム、または新たに形成されたチームが所有する
  - コンシューマーアライン
    - 特定のデータ消費シナリオに適した様に設計される

- データパイプラインはデータ所有者が内部に持つものになり、中央的に外にあるものではなくなる
  - これはドメイン所有者がわに負担を負わせるが、セルフサービスプラットフォームによってそれを埋める
- SSoT は難しくてアプローチとしてはあるドメインのデータをあるドメインが保存し直して良いというのは面白い

  - 異なる概念で同じデータを持つことは問題ないとみなす

    - コンテキストを一番にする
    - MDM の様にデータの一意せいなどは全く担保しない？それとも ID の様なものは持たせる？
    - この疑問は以下の良うにいくつかの仕組みで識別はできる様にすることが大事っぽい
    - ただしそれに付与するデータはコンテキストごとに変えても良いよ、ということ

    > これを実現するためには、統一された識別スキーム、すべてのドメインで使用される単一の ID、アーティストを含むものが使用されるなど、複数の方法があります

