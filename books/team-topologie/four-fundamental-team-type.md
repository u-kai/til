# 4 つの基本的なチームタイプ

- 無計画に役割を拡張すると誰も組織全体を見通せなくなってくる

  - 適切なチームが配置されているのだろうか？
  - 誰も対処していないが，能力が備わってない領域があるのではなないだろうか?
  - チームの自律と他のチームからのサポートはバランスが取れているだろうか？

- チームの種類を以下の 4 つの基本的なチームタイプにまで減らしてしまえば，そのような質問に答えるのは簡単になる

  - ストリームアラインドチーム
  - イネイブリングチーム
  - コンプリケイテッドサブシステムチーム
  - プラットフォームチーム

- 4 つの基本的なチームタイプはあらゆる種類のチームの磁石のように働く
  - 全てのチームは 4 つの磁石どれかに引き寄せられる
  - 組織内の全てのチームは自分のチームタイプを選ぶ
  - そしてチームタイプに応じて目的，役割，責任を担い，インタラクションにあった振る舞いができるようにする
  - チーム内をたった 4 種類でシンプルに分類することで，組織内の曖昧さを減らすことができる
  - 組織内の役割について曖昧さを減らすことはモダンな組織設計で成功するための主要な要因

### 運用チーム，サポートチームについて

- 長続きするチームがシステムを構築し，そして構築したシステムの実際の運用の非常に近くにいる
- つまり運用チームやサポートチームへの引き継ぎは存在しない
- SRE チームへの引き継ぎさえ存在しない
- ストリームアラインドチームは継続的デリバリーや運用性のような良いソフトウェアデリバリーのプラクティスに従う
- そしてほとんどコードを書かなかったとしても実際の運用にも責任をおう

## ストリームアラインドチーム

- ストリームとはビジネスドメインや組織の能力に剃った仕事の継続的な流れのこと
- 継続的なフローにするには，目的と責任を明確化し，複数のチームがそれぞれの仕事のフローを扱いつつ共存できるようにしなければいけない
- ストリームアラインドチームとは価値のある単一の仕事のストリームに沿って働くチームのこと

  - ストリームとは，仕事やサービスの場合もあるし，機能一式のこともあり，ユーザージャーニーやユーザーペルソナの 1 つのような場合もある
  - なるべくそのチームだけで素早く安全に顧客やユーザーに価値を届けられるようにチームに権限が委譲されている
    - 他のチームへの仕事の引き継ぎは必要ないということ

- ストリームアラインドチームは組織で根幹となるチームタイプで残りの基本的なチームタイプの目的はストリームアラインドチームの負荷を減らすことにある

  - 例えばイネイブリングチームのミッションはストリームアラインドチームが欠いている能力を素早く獲得するのを助けることにある
  - プラットフォームチームのミッションは下位の詳細な知識(プロビジョニング，監視，デプロイなど)を引き取り，使いやすいサービスを提供することでストリームアラインドチームの認知負荷を減らすこと

- ストリームアラインドチームはデリバリー全体に関わるため，必然的に顧客の近くで働くことになり，本番環境のソフトウェアを監視しながら，素早く顧客からのフィードバックを取り込めるようになる

  - 大きなチームより，スキルの高い人からなる小さなチームの方が，本番環境での方針変更を素早くできる

- 組織の中では複数のストリームが共存できる

  - 特定の顧客向けのストリーム，ビジネスエリアごとのストリーム，地理的ストリーム，プロダクトストリーム，ユーザーペルソナストリームなどがあり，規制の多い業界であればコンプライアンスストリームさえある

- どのようなストリームでもストリームアラインドチームは短期のプロジェクトではなく，長期的に維持される仕事のポートフォリオもしくはプログラムの一部として予算が割り当てられる
- モダンなソフトウェア組織では，ほとんどのチームがストリームアラインドチームとなる
  - 仕事のフローは明白で，それぞれのストリームには優先度に基づいてストリームアラインドチームが担当する安定した仕事のフローがある

### ストリームアラインドチームが備える能力

- 一般的にストリームアラインドチームは初期の要求探索段階から本番運用まで作業を進めるのに必要な能力一式を備えている必要がある
- そのような能力には以下のようなものが含まれている

  - アプリケーションセキュリティ
  - 事業成長性分析と運用継続性分析
  - 設計とアーキテクチャー
  - 開発とコーディング
  - インフラストラクチャーと運用性
  - メトリクスとモニタリング
  - プロダクトマネジメントとオーナーシップ
  - テストと QA
  - ユーザーエクスペリエンス

- それぞれの能力を個人が担当するわけでない
  - これらの能力をチームとして理解し，実行できるようになるということ

### プロダクトチームやフィーチャーチームではなく，なぜストリームアラインドチームなのか？

- 最近ではプロダクトやフィーチャーではなく，ストリームについて語った方が良いことも多い
- チームの目的をストリームと一致させることで，組織レベルでフローに着目するようになる

  - ストリームを妨げてはいけない
  - チームが継続的デザインの能力を組み込む必要がある
  - 継続低デザインの考え方のもとで，サービス，フィードバック，失敗，学習といったものを一番重要な概念として扱う
    - そのためには流れに着目して変化を捉えられるストリーム重視なものの見方をすることが重要

- ストリームアラインドという用語はプロダクトやフィーチャーよりも幅広い状況に対応できるだけでなく，ストリームに沿ったフローの強調という意味もある
- ソフトウェアの全ての状況で，プロダクトやフィーチャーが必要になるわけでない
- しかしどんな状況でもフローに従うことにメリットがある

### 期待される振る舞い

- 与えられたストリームに沿って仕事をスムーズに流せるようにすること
- ストリームはビジネスドメインに関連することが多いが，そうでない場合もある
- 効果的なストリームアラインドチームにはどんな振る舞いやアウトカムが求められているのかをいかに示す
  - フィーチャーデリバリーの安定したフローを作ることを目指す
  - 最新の変更に対するフィードバックに基づいて素早く軌道修正する
  - プロダクトの進化に実験的なアプローチを用い，常に学んで適応する
  - 他のチームへの引き継ぎを最小限(理想はゼロ)にする
  - このチームが実現した変更フローの安定性と，技術面およびチームの健全性の観点での補助的なメトリクスで評価される
  - コードの変更が安全かつ簡単に行える状態を保つため，コードの品質変化に対応するための時間を持たなければいけない
  - 積極的かつ定期的に支援を受ける他のチームタイプと連携する
  - チームメンバーは自律，熟達，目的，を達成しようとしているか，達成していると感じる

## イネイブリングチーム

- 優位性を保つために能力向上に継続的に取り組む必要があるが，E2E でオーナーシップを持つストリームアラインドチームが新しいスキルを調査し，学習し，練習する余裕を確保するにはどうすれば良いか？

  - ストリームアラインドチームはデリバリーと素早い対応を求められるプレッシャーに常に晒されていることを忘れてはいけない

- イネイブリングチームは特定のテクニカルドメインのスペシャリストから構成され，能力ギャップを埋めるのを助ける
- 複数のストリームアラインドチームを横断的に支援し，適切なツール，プラクティス，フレームワークなどアプリケーションスタックのエコシステムに関する調査，オプションの探索，正しい情報に基づく提案を行う
- そうすることでストリームアラインドチームは多大な労力をかけずに能力を獲得し進化できる

  - 能力獲得と進化を自分でやる場合に必要な労力がチームに与える影響は 10〜15 倍過小評価されている

- イネイブリングチームの最終的なゴールはストリームアラインドチームへのソリューションの提供ではない
  - ストリームアラインドチームの課題に注力することで，ストリームアラインドチームの自立性を高めることである
- イネイブリングチームがうまく機能すれば，ストリームアラインドチームはイネイブリングチームからの支援を数週間から数ヶ月で必要としなくなるはず
- イネイブリングチームへの継続的な依存関係は作るべきではない
- ロバートグリーンリーフん経験則をイネイブリングチームの振る舞いのガイドとするのが良い
  - 個人として成長に貢献したか？支援している間，チームはより健全に，より賢く，より自律的になったか？

### 期待される振る舞い

- 通常は特定の技術領域やプロダクトマネジメント領域に関わることが多い
- 積極的にストリームアラインドチームのニーズを探索し，定期的にチェックポイントを儲け，より多くのコラボレーションが必要になるタイミングについて合意する
- ストリームアラインドチームが実際に必要とするより前に，専門領域でも新しいアプローチ，ツール，プラクティスについて先んじておく
- 良いニュースも悪いニュースも伝える
- ストリームアラインドチームが直接使うのが難しい外部サービスのプロキシとして振る舞うこともある
- イネイブリングチーム内の学習だけでなく，ストリームアラインドチームを横断した学習も促進するため，組織内の適切な情報共有を促すキュレーターとして活動する

## コンプリケイテッドサブシステムチーム

- システムの中でスペシャリストの知識が必要となるパーツを開発，保守する責任を持つ
- このチームの目的は複雑なサブシステムを含んだり，利用するシステムの担当となるストリームアラインドチームの認知負荷を減らすことにある
- 考えられるサブシステムの例としては，動画処理コーデック，数理モデル，リアルタイム取引裁定アルゴリズム，金融サービスのトランザクションレポートシステム，顔認識エンジンなど
- チーム数は少ないはず

### 期待される振る舞い

- 担当するサブシステムの開発状況を意識して，適切に振る舞う
  - 初期の探索や開発の段階ではストリームアラインドチームと密接にコラボレーションする
  - サブシステムが安定位してきたらインタラクションを減らし，サブシステムのインターフェイス，昨日の使用状況と進化に集中する
- サブシステムのデリバリー速度と品質を向上させる
- サブシステムを利用するストリームアラインドチームのニーズを尊重し，適切に優先順位をつけて変更をデリバリーする

## プラットフォームチーム

- プラットフォームチームの目的は，ストリームアラインドチームが自律的に仕事を届けられるようにすること
  - ストリームアラインドチームは本番環境のアプリケーションの開発，運用，修正を含む全体のオーナーシップを持つ
  - プラットフォームチームは内部サービスを提供することで，ストリームアラインドチームが描いのサービスを開発する必要性を無くし，認知負荷を下げる
- 利用容易性はプラットフォーム適用の基礎となる
- プラットフォームチームは少数のサービスを高い品質で提供することに集中するのが現実的
  - 多数のサービスを提供しても，品質やレジリエンスの問題だらけでは話にならない
  - 投入する労力と品質のバランスを常に保たなければならない
- インフラとサービスに内部提供価格を使うと良いらしい．
  - 全チームがプレミアムレベルを要求するようになるを避け，需要を制限できる
  - チームもしくはサービス単位のクラウドインフラストラクチャーのコストを追跡すれば内部価格の決定に役立つ

### 期待される振る舞い

- ストリームアラインドチームが必要とする会の内部サービスを提供することで，認知負荷を減らし，ストリームアラインドチームがより上位のサービスや機能を提供できるようにすること
- ストリームアラインドチームと密接にコラボレーションし，ストリームアラインドチームのニーズを理解する
- 高速プロトタイピングの手法を使い，ストリームアラインドチームのメンバーを巻き込んで，何がうまくいって何がうまくいかないのかのフィードバックを素早く得る
- プラットフォームをプロダクトとして扱い，提供するサービスのユーザビリティと信頼性に強くフォーカスする

  - 定期的にサービスが目的にあっているか使いやすいかを検査する

- 手本を示し，リードする
  - 提供したサービスを可能ならストリームアラインドチームと一緒に使い，可能な限り(他のプラットフォームチームがオーナーである)下位のプラットフォームを利用する
  - 新しい内部向けサービスの採用には他の新技術と同じように時間がかかること，テクノロジー採用ライフサイクルの採用曲線に沿って進化することを理解すること

## 変更フローの中でチームサイロを避ける

- ソフトウェアを早く安全に届けたいなら，単一職能からなるチームは避けるべき
- 従来型の開発が運用にシステムを引き継ぐようなモデルは不適切
- 代わりに稼働中のソフトウェアをサポート，運用するストリームアラインドチームとストリームアラインドチームのための下位の基盤を提供するプラットフォームチームを組み合わせる

## 良いプラットフォームはちょうど良い大きさ

- 顧客駆動プラットフォームが，うまく設計，運用されたプラットフォームを準備すれば組織のソフトウェアデリバリー能力の向上に大きく貢献できる
- プラットフォームの開発と運用を以前システム管理者だった人たちにそのまま一任すること
- モダンなソフトウェアに対応できるプラットフォームではないと他のチームの助けになるどころか，足を引っ張ってしまう

### 最低限のプラットフォーム

- どんな場合でも最低限のプラットフォームを目指すべき
- プラットフォームが制約になるのは避けなければいけない
- プラットフォームを小さく保つことと，プラットフォームが開発チームのソフトウェアデリバリーをシンプルにし，加速できることの絶妙なバランスで成り立っている

### 認知負荷の提言とプロダクト開発の加速

- プラットフォームで一番重要なのは開発者のために開発されていること

### 一貫性と説得力を併せ持つ適切なプラットフォーム

- プラットフォームについてのフィードバックをプラットフォーム開発者に返す道筋が必要
- プラットフォームは会社の他の部分から孤立して，プラットフォームの適用に大変な苦労をすることになる
- プラットフォームは開発チームの邪魔にならないようにし，開発チームが開発する上での前提条件をなるべく少なくする
- 新しい開発者がプラットフォームを使い始めるのがどれだけ簡単かどうかは，DevEx の達成状況についての良いテストになる

### 下位のプラットフォーム上に作る

- 組織内にあるプラットフォームレイヤーを明確にするため，プラットフォームレイヤーを大きな図にしてみる
- この図があれば内部のプラットフォームチームとプラットフォームを使うチームがプラットフォームが提供するもの，プラットフォームが依存しているものを理解するのに役にたつ

### 稼働中のプラダクトやサービスのように管理する

- プラットフォームにはユーザーがいて，運用対応の時間(開発チームが使う時間)も決まっている
- ユーザーはプラットフォームの信頼性に依存するようになり，プラットフォームにいつ新しい機能が足され，古い機能が削がれるのかを知る必要が出てくる
- そのため開発チームがなるべく効果的に働けるようにするには以下のことを行う必要がある
  - プラットフォームを稼働中のシステムとして扱い，ダウンタイムを計画し，管理する
  - ソフトウェアプロダクトマネジメント，サービスマネジメントのテクニックを使う

## これまでのチームを基本的なチームタイプに置き換える

- ストリームアラインドチームとそれ以外のチームの数の比は 7:1 から 10:1 ほど
