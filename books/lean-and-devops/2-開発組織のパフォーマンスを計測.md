# 2 開発組織のパフォーマンスを計測

## 従来の測定手法の問題点

-   今までの手法は生産性に焦点を与えていた物が多かった
-   この方法の望ましくない点は

    1. 成果よりも出力に焦点を当てている点
    1. チームなどグローバルなレベルではなく，個人などローカルなレベルでの測定に焦点を当てている点

-   例えば大量のソースコードが正かというと全く違う

    -   巨大なソフトウェアは保守と変更のコストが高い
    -   理想は最低限なコードで問題を解決できるべき
    -   ただし短すぎるコードもよくない
        -   最適化や短縮に極端になると，わけがわからんコードが出来上がる
        -   それならばわかりやすいように多く記述するべき

-   アジャイル開発のべろシティはチームの作業工数を見積もるのに使える物だが，これをチームの生産性としたり，他チームと比較するのはよくないパターン
-   ベロシティは絶対的ではなく，チーム依存の相対的な尺度
-   チームを巡る状況は全く違うのでチーム間の比較はできない
-   また，ベロシティを生産性の尺度に使うと，チームはベロシティを良くしようと悪用してしまい，本当に測定したいことが測定できなくなってしまう

-   利用率(多分稼働している率みたいな感じかな？)で測定するのはよくない
-   利用率は一定レベルを超えると余裕がなくなり，予定外の仕事や計画変更，改善作業を入れる隙がなくなってしまう
    -   結果的にリードタイムが長くなってしまう
    -   待ち行列理論の話はわかりやすい.利用率が 100％に近づくにつれリードタイムは無限大に近づく
-   利用率はリードタイムとうまくバランスをとり，全体の仕事が効率的に行われるように管理することが肝心
-   所感
    -   予定がぱつぱつな人は一生仕事終わらないアンチパターンってことかな

## 望ましい尺度

-   ソフトウェアデリバリのパフォーマンスを的確に計測できる尺度は 2 つの特徴を持っているべき

1. グローバルな成果に焦点を当てて，チーム同士が競争もしくは対立するような状況を防ぐ機能を持つこと

    - 従来型の話として混乱の壁がある

1. 生産量ではなく，．成果に焦点を当てる

-   このことを踏まえて 4 つの計測尺度が選出された
    -   デリバリーのリードタイム
    -   デプロイの頻度
    -   サービス復旧の所要時間
    -   変更失敗率

### デリバリーのリードタイムについて

-   リードタイムとはリクエストが満たさられるまでの期間
-   リードタイムとは 2 つの部品からなる
    -   製品の設計と開発
    -   製品のデリバリ
-   上記のうち製品のデリバリは設計や開発と比べて，結果の変動が小さく，サイクルタイムは小さく測定が比較的容易である
-   所感

    -   おそらく，設計や開発と，それを製品という形でどうデプロイするのか(どうやってコンパイルするのか，どうやってテストするのか，どうやって機能を統合するのか，どうやってプログラムをサーバーに配置するのか)みたいな物で分けているのかな？
    -   あとはデリバリを遅くする要因としては，デプロイする時に承認が必要とかはあるかもしれない

-   デリバリのリードタイムが短いとプログラムからのフィードバックもそれを受けての進路変更も素早くでき，不具合の修正や稼働停止からの復旧も迅速かつ確実になる

### デプロイの頻度について

-   一度に進める量の削減を言いたいらしい
-   これによって得られるものは，サイクルタイムの短縮と，フローにおける変動の低減，フィードバックの高速化，リスクと諸経費の低減，効率，モチベーション，緊急性の認識の向上，コストとスケジュールの膨張抑制

-   ソフトウェア以外だと，バッチサイズとして評価されるが，ソフトウェアの場合，物が目に見えにくいため，デプロイ頻度として計測している

### サービス復旧の所要時間

-   現代のソフトウェアは複雑な要件を達成しようとしているため，サービスにおける失敗は不可避であり，サービスをいかに迅速に復旧できるのかが鍵になる

### 変更失敗率

-   上で失敗は不可避と書いてあるが，それでも失敗する率は計測することでパフォーマンスを図ることはできるっぽい

## 分析からわかったこと

| 2017               | ハイパフォーマー | ミディアムパフォーマー | ローパフォーマー  |
| ------------------ | ---------------- | ---------------------- | ----------------- |
| デプロイの頻度     | 1 日複数回       | 週 1 回から月 1 回     | 週一回から月一回  |
| 変更のリードタイム | １時間未満       | 1 週間から 1 ヶ月      | 1 週間から 1 ヶ月 |
| MTTR               | 1 時間未満       | 1 日未満               | 1 日から 1 週間   |
| 変更失敗率         | 0-15%            | 0-15%                  | 31-45%            |

-   上の表からわかるのはパフォーマンスの改善と，安定性と品質の向上との間にトレードオフの関係はないという点

    -   ハイパフォーマーが最強であることがわかる

-   よくある誤解が，パフォーマンスと安定性にはトレードオフがあるというものだが，それは嘘ということ
-   ここ数年ハイパフォーマーがどんどん差を広げていっているらしい
    -   逆にミディアムパフォーマーなどはどんどん引き離されている
-   分析の結果から上記 4 点は信頼性の高い測定方法とされた

## 組織のパフォーマンスとデリバリのパフォーマンス

-   組織の使命がなんであれ，技術部門のパフォーマンスの良し悪しは組織全体のパフォーマンスの予測材料となりうる
-   営利組織は収益性，市場占有率，生産性から,非営利組織は研究の結果から組織としてのパフォーマンスを測定すると，デリバリのハイパフォーマーはどちらの場合でも 2 倍上の差が生まれていたらしい
-   つまりデリバリのパフォーマンスはどんな組織のパフォーマンスにも強く影響する
-   またユーザーからのフィードバックをすぐにもらえるように作業を細分化してデリバリを行う能力が必要で，製品開発に実験的な姿勢で望める能力が大切

    -   上記のような姿勢は継続的デリバリに寄与する技術的プラクティスと高い相関を持つ

-   ソフトウェアデリバリのパフォーマンスは組織全体の業績に重要な影響を及ぼす，という事実は組織の事業にとって戦略上重要なソフトウェアの開発能力を自組織の中核的要素として位置付けずにアウトソースすることへの強力な反証となる

    -   米政府でさえ内精化にに力を入れているらしい

-   しかし，業務むけソフトウェアの大半は戦略的でないため(その組織の事業とはあまり関係ないってことかな？)多くの場合は SaaS で購入すべき
-   何が戦略的ソフトウェアなのかを見極めて購入することが重要

## 変革の推進

-   デリバリパフォーマンスを計測可能な尺度で定義してきたことで，ソフトウェアベースの製品やサービスを構築するチームのパフォーマンス改善についてエビデンスに基づいた決定を下すことが可能になった
-   進行中の作業の管理からテストの自動化に至るまで，どのプラクティスがどの程度デリバリのパフォーマンスを向上させるのかに関する仮説が検証可能になった
    -   どのプラクティスがどの程度パフォーマンスを上げる仮説ってどうやって建てるのか？
    -   どのパフォーマンスがどの尺度に関わってくるのかがわかるから？
    -   やってみたあとどのくらいパフォーマンスが良くなったのかは測定尺度があるので可能そうだが，仮説を立てるのも可能なのか？
