# ソフトウェアアーキテクチャにおける結合の見分け方

-   データベースが境界づけられたコンテキスト内に移動したことで，データに関する関心事はアーキテクチャへの関心事に変わった
-   現代のアーキテクトはトレードオフ分析を行う能力を身につけなければいけない
-   トレードオフ分析の最初のステップは問題の様々な側面を解きほぐしどの部分が互いに結びついているのか，変更時にその結合がどんな影響をもたらすのかを分析すること
-   ここでいう結合とは，

> 一方の変更が他方の変更を引き起こす可能性がある場合，ソフトウェアシステムの 2 つの部分は結合している

## トレードオフ分析のアドバイス

1.  どの部分が互いに絡み合っているのかを見つける
1.  それらがどのように結合しているかを分析する
1.  変更時にその結合がどんな影響をもたらすのかを見極め，トレードオフを評価する

## マイクロサービスの大きさと通信方式はどのようにすればいいのか？

## アーキテクチャ量子

-   アーキテクチャ量子とは

    -   部品がどのように接続されて互いに通信するかに関連してソフトウェアアーキテクチャのトポロジーと振る舞いについていくつかの側面を評価するもの
    -   高度な機能的凝集，高度な静的結合，同期，非同期による動的結合をもつ独立してデプロイ可能なアーティファクト

-   静的結合はサービスがどのようにつながっているのかを説明するもの
-   動的結合はサービスが実行時に互いをどのように呼び出すかを説明するもの

    -   適応度関数は監視を利用した継続的なものでなくてはならない

-   静的結合は運用上の依存
    -   DB がないと運用できないように DB は静的結合
-   動的結合は通信上の依存

    -   あるワークフローで呼び出すものは，呼び出し時以外では相手の存在を気にすることがないため動的結合

-   考察
-   DB はなくてはならないから静的結合で，それはシステムと静的結合している
-   そしてアーキテクチャ量子に DB は含まれるので，もし，システムのデプロイと DB のデプロイが一緒でなければそれは独立してデプロイ可能とは言わない
-   であっているのか？なんか DB のインターフェイスに変更がなければデプロイは一緒じゃなくてもいい気がするので，直感と反する気もする
-   独立してデプロイ可能とは？アーキテクチャ量子とは？ここら辺がまだわかっていないのかもしれない
-   独立してデプロイ可能とは，高度な機能的凝集が必要なので，DB などとは高度に結合している必要があるのかも

## 高度な機能的凝集

## 静的結合

-   単一のユニットとしてデプロイされ，単一のデータベースを利用するアーキテクチャは必ず量子数が 1 になる
-   単一のデータベースに依存するシステムの粒子数が 1 以上になることはない

-   考察
-   p34 のシステムに求められる全てのワークフローには参加できないかもしれないが，アーキテクチャ量子はそれぞれアーキテクチャないで正常に動作し，リクエストを送受信できる，とあり，恐らく，全ての機能が動かなくても，データ源さえあり，何かの機能が動くのであればそれは独立してデプロイ可能ということになるのかな？

## UI による結合

-   UI はフロントエンドとバックエンドの間に結合点を作り出す．なぜならバックエンドがないとほとんどのフロントエンドは役に立たないから
-   さらに単一の UI 内で強調しなかればいけないと，バックエンドのサービス群が異なるレベルの運用特性を持つことも難しくなる

    -   特に同期呼び出しをされると難しい

-   マイクロフロントエンドを利用すると，画面全体は UI 要素が表示されるキャンバスの役割を果たす
-   そしてそれぞれの機能を実現する UI 要素はそれぞれのサービスからホストされる

## 静的か動的か

-   ゼロから運用可能かどうかを考えて，必要なものは静的な結合

    -   言語
    -   ライブラリ
    -   DB
    -   ブローカー

-   動的結合では量子がどのように相互に通信するかということに関心を持つ
    -   動的結合では，量子がどのように相互に通信するかということに関心を持つ
