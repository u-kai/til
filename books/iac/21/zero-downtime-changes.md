Zero Downtime Changes Many of the techniques described in this chapter explain how to implement a change incrementally.
Ideally, you’d like to apply the change to existing infrastructure without disrupting the services it provides. Some changes will inevitably involve destroying resources, or at least changing them in a way that might interrupt service. There are a few common techniques for handling these situations. Blue-green changes A blue-green change involves creating a new instance, switching usage to the new instance, and then removing the old instance. This is conceptually similar to expand and contract (“Expand and Contract”), which adds and removes resources within an instance of a component such as a stack. It’s a key technique for implementing immutable infrastructure (see “Immutable Infrastructure”). Blue-green changes require a mechanism to handle the switchover of a workload from one instance to another, such as a load balancer for network traffic. Sophisticated implementations allow the workload to “drain,” allocating new work to the new instance, and waiting for all work on the old instance to complete before destroying it. Some automated server clustering and application clustering solutions provide this as a feature, for example, enabling “rolling upgrades” to instances in a cluster. Blue-green is implemented with static infrastructure by maintaining two environments. One environment is live at any point in time, the other being ready to take the next version. The names blue and green emphasize that these are equal environments that take turns at being live, rather than a primary and secondary environment. I worked with one organization that implemented blue-green data centers. A release involved switching workloads for its entire system from one data center to the other. This scale became unwieldy, so we helped the organization to implement deployment at a smaller scale, so it would do a blue-green deployment only for the specific service that was being upgraded.

ゼロダウンタイム変更
この章で説明されている多くの技術は、変更を段階的に実装する方法を説明しています。
理想的には、既存のインフラストラクチャに変更を適用する際に、提供されるサービスに影響を与えずに行いたいです。一部の変更には、リソースの破棄や少なくともサービスの中断が生じる可能性があります。これらの状況を処理するためのいくつかの一般的な技術があります。

ブルーグリーン変更
ブルーグリーン変更は、新しいインスタンスを作成し、使用を新しいインスタンスに切り替え、それから古いインスタンスを削除するというものです。これは、「展開と収縮」（"Expand and Contract"）に概念的に似ており、スタックなどのコンポーネントのインスタンス内でリソースを追加および削除するものです。これは、イミュータブルインフラストラクチャを実装するための主要な技術です（"Immutable Infrastructure"を参照）。
ブルーグリーン変更では、ネットワークトラフィックの負荷分散器など、ワークロードを1つのインスタンスから別のインスタンスに切り替えるためのメカニズムが必要です。高度な実装では、ワークロードを新しいインスタンスに「ドレイン」として割り当て、古いインスタンスのすべての作業が完了するのを待ってから破棄することができます。一部の自動化されたサーバークラスタリングおよびアプリケーションクラスタリングのソリューションは、クラスタ内のインスタンスへの「ローリングアップグレード」を可能にする機能を提供しています。

ブルーグリーンは、静的なインフラストラクチャで実装され、2つの環境を維持しています。常にライブの環境と、次のバージョンを受ける準備ができた環境です。ブルーとグリーンという名前は、これらが交代してライブになる平等な環境であることを強調しています。私はブルーグリーンデータセンターを実装している組織と一緒に働いたことがあります。リリースでは、システム全体のワークロードを1つのデータセンターからもう1つのデータセンターに切り替えました。このスケールは取り扱いにくくなったため、私たちは組織が小規模なスケールで展開できるように支援し、特定のサービスのアップグレード時にのみブルーグリーン展開を行うようにしました。