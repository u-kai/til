Pattern: Micro Stack The micro stack pattern divides the infrastructure for a single service across multiple stacks (see Figure 5-5).
For example, you may have a separate stack project each for the networking, servers, and database. Motivation Different parts of a service’s infrastructure may change at different rates. Or they may have different characteristics that make them easier to manage separately. For instance, some methods for managing server instances involve frequently destroying and rebuilding them.5 However, some services use persistent data in a database or disk volume. Managing the servers and data in separate stacks means they can have different life cycles, with the server stack being rebuilt much more often than the data stack.
Consequences Although smaller stacks are themselves simpler, having more moving parts adds complexity. Chapter 17 describes techniques for handling integration between multiple stacks. Implementation Adding a new micro stack involves creating a new stack project. You need to draw boundaries in the right places between stacks to keep them appropriately sized and easy to manage. The related patterns include solutions to this. You may also need to integrate different stacks, which I describe in Chapter 17. Related Patterns Micro stacks are the opposite end of the spectrum from a monolithic stack (see “Antipattern: Monolithic Stack”), where a single stack contains all the infrastructure for a system.
