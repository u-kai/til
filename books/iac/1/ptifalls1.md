Pitfall: Snowflake Systems A snowflake is an instance of a system or part of a system that is difficult to rebuild. It may also be an environment that should be similar to other environments, such as a staging environment, but is different in ways that its team doesn’t fully understand. People don’t set out to build snowflake systems. They are a natural occurrence. The first time you build something with a new tool, you learn lessons along the way, which involves making mistakes. But if people are relying on the thing you’ve built, you may not have time to go back and rebuild or improve it using what you learned. Improving
what you’ve built is especially hard if you don’t have the mechanisms and practices that make it easy and safe to change. Another cause of snowflakes is when people make changes to one instance of a system that they don’t make to others. They may be under pressure to fix a problem that only appears in one system, or they may start a major upgrade in a test environment, but run out of time to roll it out to others. You know a system is a snowflake when you’re not confident you can safely change or upgrade it. Worse, if the system does break, it’s hard to fix it. So people avoid making changes to the system, leaving it out of date, unpatched, and maybe even partly broken. Snowflake systems create risk and waste the time of the teams that manage them. It is almost always worth the effort to replace them with reproducible systems. If a snowflake system isn’t worth improving, then it may not be worth keeping at all. The best way to replace a snowflake system is to write code that can replicate the system, running the new system in parallel until it’s ready. Use automated tests and pipelines to prove that it is correct and reproducible, and that you can change it easily.
落とし穴：スノーフレークシステム
スノーフレークとは、再構築が困難なシステムまたはシステムの一部です。また、ステージング環境など他の環境と同様にするべき環境でありながら、そのチームが完全に理解していない部分が異なっている場合もあります。人々はスノーフレークシステムを意図的に作ろうとはしません。それらは自然発生的なものです。新しいツールを使って何かを作る最初の時には、途中で教訓を得るためにミスを犯しながら学んでいきます。しかし、あなたが構築したものに依存している人々がいる場合、学んだことを使って戻って再構築や改善を行う時間がないかもしれません。構築したものを改善することは特に難しいです。変更しやすく安全なメカニズムやプラクティスがない場合、スノーフレークの原因となります。スノーフレークの別の原因は、システムの一部に変更を加えるが他のシステムには加えない場合です。あるシステムでのみ現れる問題を修正するためにプレッシャーを感じたり、テスト環境で大規模なアップグレードを開始したが他の環境に展開する時間がなくなったりすることがあります。システムがスノーフレークであるかどうかは、安全に変更やアップグレードができる自信がないときです。さらに、システムが壊れた場合、修復が難しいです。そのため、人々はシステムへの変更を避け、時代遅れになり、パッチが当てられていない、そしておそらく一部が壊れている状態にしています。スノーフレークシステムはリスクを生み出し、それを管理するチームの時間を無駄にします。スノーフレークシステムを再現可能なシステムで置き換える努力はほぼ常に価値があります。スノーフレークシステムを改善する価値がないのであれば、まったく保持する価値がないかもしれません。スノーフレークシステムを置き換える最良の方法は、そのシステムを複製できるコードを書き、新しいシステムを並行して実行し、準備ができるまで実行することです。自動化されたテストとパイプラインを使用して、それが正しく再現可能であり、簡単に変更できることを証明してください。