Law of Demeter Also called the principle of least knowledge, the Law of Demeter says that a component should not have knowledge of how other components are implemented. This rules pushes for clear, simple interfaces between components. The ShopSpinner team initially violates this rule by having a stack that defines an application server cluster, and a shared networking stack that defines a load balancer and firewall rules for that cluster. The shared networking stack has too much detailed knowledge of the application server stack. Providers and Consumers In a dependency relationship between components a provider component creates or defines a resource that a consumer component uses. A shared networking stack may be a provider, creating networking address blocks such as subnets. An application infrastructure stack may be a consumer of the shared networking stack, provisioning servers and load balancers within the subnets managed by the provider. A key topic of this chapter is defining and implementing interfaces between infrastructure components.
デメテルの法則、または最小知識の原則とも呼ばれるデメテルの法則は、コンポーネントが他のコンポーネントの実装方法を知るべきではないということを示しています。このルールは、コンポーネント間の明確でシンプルなインターフェースを求めます。ShopSpinnerチームは、アプリケーションサーバークラスターを定義するスタックと、そのクラスターのロードバランサーとファイアウォールのルールを定義する共有ネットワーキングスタックを持つことで、このルールに最初に違反しています。共有ネットワーキングスタックは、アプリケーションサーバースタックの詳細な知識を持ちすぎています。プロバイダーとコンシューマー コンポーネント間の依存関係では、プロバイダーコンポーネントがコンシューマーコンポーネントが使用するリソースを作成または定義します。共有ネットワーキングスタックはプロバイダーとなり、サブネットなどのネットワーキングアドレスブロックを作成します。アプリケーションインフラストラクチャスタックは、プロバイダーによって管理されるサブネット内にサーバーとロードバランサーをプロビジョニングするコンシューマーとなります。この章の主要なトピックは、インフラストラクチャコンポーネント間のインターフェースを定義して実装することです。