Chapter 15 explained how well-designed components can make an infrastructure system easier and safer to change. This message supports this book’s theme of using speed of change to continuously improve the quality of a system, and using high quality to enable faster change. This chapter focuses on modularizing infrastructure stacks; that is, breaking stacks into smaller pieces of code. There are several reasons to consider modularizing a stack: Reuse Put knowledge of how to implement a particular construct into a component so you can reuse it across different stacks. Composition Create the ability to swap different implementations of a concept, so you have flexibility in building your stacks. Testability Improve the speed and focus of testing by breaking a stack into pieces that can be tested separately before integrating them. If a component is composable, you can replace them with test doubles (“Using Test Fixtures to Handle Dependencies”) to further improve the isolation and speed of testing. Sharing Share composable, reusable, and well-tested components between teams, so people can build better systems more quickly. As mentioned in “Stack Components Versus Stacks as Components”, breaking a stack into modules and libraries simplifies the code, but it doesn’t make stack instances any smaller or simpler. Stack components have the potential to make things worse by obscuring the number and complexity of infrastructure resources they add to your stack instance.
So you should be sure you understand what lies beneath the abstractions, libraries, and platforms that you use. These things are a convenience that can let you focus on higher-level tasks. But they shouldn’t be a substitute for fully understanding how your system is implemented.
第15章では、よく設計されたコンポーネントがインフラストラクチャシステムを変更しやすく安全にすることを説明しています。このメッセージは、この本のテーマである変更の速さを使用してシステムの品質を継続的に改善し、高品質を使用して変更をスピーディに実現することを支持しています。この章では、インフラストラクチャスタックをモジュール化することに焦点を当てています。つまり、スタックをより小さなコードの塊に分割することです。スタックをモジュール化することを検討する理由はいくつかあります。使いまわし: 特定の構造を実装する方法の知識をコンポーネントに組み込んで、異なるスタックで再利用できるようにします。構成: コンセプトの異なる実装を交換できる能力を作成し、スタックの構築に柔軟性を持たせます。テスト可能性: スタックをテスト可能な部分に分割することで、テストの速度と焦点を向上させます。コンポーネントが構成可能であれば、テストの分離と速度をさらに向上させるためにテストダブル（「依存関係の処理にテストフィクスチャを使用する」）でそれらを置き換えることができます。共有: 構成可能で再利用可能でよくテストされたコンポーネントをチーム間で共有することで、人々はより良いシステムをより迅速に構築することができます。 「スタックコンポーネント対コンポーネントとしてのスタック」で説明したように、スタックをモジュールとライブラリに分割することはコードを簡素化しますが、スタックインスタンスをより小さく簡単にするわけではありません。スタックコンポーネントは、スタックインスタンスに追加されるインフラリソースの数と複雑さを不透明にすることによって事態を悪化させる可能性があります。そのため、使用している抽象化、ライブラリ、プラットフォームの下に何があるかを正確に理解していることを確認する必要があります。これらのものは、より上位レベルのタスクに焦点を合わせることができる利便性ですが、システムの実装方法を完全に理解する代わりになるべきではありません。