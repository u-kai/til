# プロセスの生成

- 新しくプロセスを生成する目的は次の２つ

  - 同じプログラムの処理を複数のプロセスに分けて処理する
    - Web サーバによる複数のリクエストの受付け
    - fork 関数のみ
  - 別のプログラムを生成する
    - bash から各種プログラムの新規作成
    - fork 関数と execve 関数を利用する

- これらを実現するために Linux では fork()関数と execve()関数を使う
- 内部的にはそれぞれ clone(),execve()というシステムコールを呼び出す

## fork 関数手順

- 親プロセスが fork()を呼ぶ
- 子プロセス用メモリ領域を確保してそこに親プロセスのメモリをコピーする
- 親プロセスと子プロセスは両方とも fork()関数から復帰する:

  - 親プロセスと子プロセス t は fork 関数の戻り値が異なるため処理を分岐できる

- 実際には CopyOnWrite で子メモリを生成しているため fork は安価
